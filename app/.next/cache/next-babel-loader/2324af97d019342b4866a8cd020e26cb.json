{"ast":null,"code":"var _jsxFileName = \"/home/truongduchuy910/apps/tuvi/app/pages/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { withAuthSync } from \"../utils/auth\";\nimport cookie from \"js-cookie\";\nimport { useState } from \"react\";\nimport Layout from \"../src/Layout\";\nimport AllKetQuas from \"../components/ketQuas/allKetQuas\";\nimport CreateKetQua from \"../components/ketQuas/createKetQua\";\nimport request from \"../components/config/request\";\nimport Logo from \"../src/logo\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Typography } from \"@material-ui/core\";\nimport LightBoard from \"../src/LightBoard\";\nimport ReactMarkdown from \"react-markdown\";\nimport Logout from \"../components/user/logout\";\n\nlet Index = props => {\n  // variables\n  async function getAllCungs() {\n    let {\n      data: {\n        allKetQuas\n      }\n    } = await request({\n      body: {\n        query: `query {\n          allKetQuas(orderBy: \"time_DESC\") {\n            id\n            cung {\n              name\n            }\n            ketQua {\n              id\n              cung {\n                name\n              }\n              chinhTinh {\n                id\n                name\n              }\n              phuTinh {\n                id\n                name\n              }\n              giai\n            }\n          }\n        }\n        `\n      }\n    });\n    return allKetQuas;\n  }\n\n  let {\n    0: allKetQuas,\n    1: setAllKetQuas\n  } = useState(props.allKetQuas);\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, __jsx(Logo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })), __jsx(Grid, {\n    item: true,\n    xs: 7,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, __jsx(LightBoard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    src: \"/img/tuvibanner.jpg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, __jsx(LightBoard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, __jsx(ReactMarkdown, {\n    source: `Giới Thiệu:\n\nChào các bạn yêu thích Tử Vi và các mảng khác trong Huyền Học\n\nMình muốn xây dựng một môi trường chính xác hơn trong việc luận giải tương lai của một con người, và quan trọng nhất là cách CẢI VẬN – GIẢI HẠN hoặc làm giảm đi một phần sự rủi ro trong cuộc sống. Vì thế, mình đã tạo ra hệ thống này, gồm có:\n\n- Hệ thống truy xuất ý nghĩa từng Cung/Chính tinh/Phụ tinh ảnh hưởng trong lá số Tử Vi\n\n- Một số thầy luận giải lá số Tử Vi\n\n- Một số thầy coi chỉ tay- tướng số\n\n- Một số thầy (nếu có thể) ở các mảng khác trong Huyền Học-Bói Toán…\n\nNội dung bao quát về luận Tử Vi:\n\nI. Luận đoán tướng mạo, tính cách qua lá số:\n\n- Cung mệnh- cung xung chiếu, cung tam hợp, những cung có thể ảnh hưởng\n\nII. Luận đoán anh em, gia đình, bạn bè\n\n- Cung huynh đệ, phụ mẫu, nô bộc, phu thê, tử tức – cung xung chiếu tam hợp\n\nIII. Luận đoán vận hạn quá khứ gần nhất có thể của đương số hoặc người trong gia đình\n\nIV. Luận đoán về nghề nghiệp phù hợp, về các mối quan hệ xung quanh\n\n- Luận đoán cụ thể vận hạn năm nay và đại vận chung : Coi đại vận 10 năm, tiểu nguyệt vận hạn\n\nV. Hóa giải hạn trong tương lai, là năm nay hoặc những năm tương lai gần\n\nNội dung bao quát về xem Chỉ Tay-Tướng số:\n\n- Xem cơ bản là hiện tại và tương lai gần (bao quát hạn hỷ trong năm)\n\n- Hướng giải về cải vận, bẻ tướng, giảm hạn qua việc thay đổi một số thứ trong cuộc sống và tướng mạo\n\nMình luôn hướng tới việc cải vận, giảm hạn cho mỗi cá nhân, nhưng quan trọng nhất, chúng ta vẫn nên sống Thiện, và ngoài sống Thiện thì “Hãy cho đi, rồi sẽ nhận lại” – “Đức năng, chắc chắn sẽ thắng Số”\n\nChúc các bạn luôn hạnh phúc. Thân ái!`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, __jsx(LightBoard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, __jsx(CreateKetQua, {\n    token: props.token,\n    allCungs: props.allCungs,\n    allCungVis: props.allCungVis,\n    allTinhs: props.allTinhs,\n    allPhuTinhs: props.allPhuTinhs,\n    onCreate: async ({\n      data,\n      errors\n    }) => {\n      let response = await getAllCungs();\n      setAllKetQuas(response);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, __jsx(LightBoard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, __jsx(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, props.email), __jsx(Logout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }), __jsx(AllKetQuas, {\n    allKetQuas: allKetQuas,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  })))));\n};\n\nIndex.getInitialProps = async ({\n  res,\n  client\n}) => {\n  //get variables from server\n  const query = `query {\n    allCungs {\n      id\n      name\n      tieuDe1\n      tieuDe2\n      tieuDe3\n      tieuDe4\n      tieuDe5\n    }\n    allCungVis {\n      id\n      name\n    }\n    allTinhs {\n      id\n      name\n    }\n    allPhuTinhs {\n      id\n      name\n    }\n    allKetQuas (orderBy: \"time_DESC\") {\n      id\n      cung {\n        name\n      }\n      ketQua {\n        id\n        cung {\n          name\n        }\n        chinhTinh {\n          id\n          name\n        }\n        phuTinh {\n          id\n          name\n        }\n        giai\n      }\n    }\n  }`;\n\n  try {\n    const data = await client.request(query);\n    return data;\n  } catch (error) {\n    cookie.remove(\"token\");\n\n    if (res) {\n      res.writeHead(302, {\n        Location: \"/login\"\n      });\n      res.end();\n    }\n  }\n};\n\nexport default withAuthSync(Index);","map":{"version":3,"sources":["/home/truongduchuy910/apps/tuvi/app/pages/index.js"],"names":["withAuthSync","cookie","useState","Layout","AllKetQuas","CreateKetQua","request","Logo","Grid","Typography","LightBoard","ReactMarkdown","Logout","Index","props","getAllCungs","data","allKetQuas","body","query","setAllKetQuas","token","allCungs","allCungVis","allTinhs","allPhuTinhs","errors","response","email","getInitialProps","res","client","error","remove","writeHead","Location","end"],"mappings":";;;AAAA,SAASA,YAAT,QAA6B,eAA7B;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,UAAP,MAAuB,kCAAvB;AACA,OAAOC,YAAP,MAAyB,oCAAzB;AACA,OAAOC,OAAP,MAAoB,8BAApB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AAEA,OAAOC,MAAP,MAAmB,2BAAnB;;AACA,IAAIC,KAAK,GAAGC,KAAK,IAAI;AACnB;AACA,iBAAeC,WAAf,GAA6B;AAC3B,QAAI;AACFC,MAAAA,IAAI,EAAE;AAAEC,QAAAA;AAAF;AADJ,QAEA,MAAMX,OAAO,CAAC;AAChBY,MAAAA,IAAI,EAAE;AACJC,QAAAA,KAAK,EAAG;;;;;;;;;;;;;;;;;;;;;;;;AADJ;AADU,KAAD,CAFjB;AA8BA,WAAOF,UAAP;AACD;;AACD,MAAI;AAAA,OAACA,UAAD;AAAA,OAAaG;AAAb,MAA8BlB,QAAQ,CAACY,KAAK,CAACG,UAAP,CAA1C;AACA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAC,qBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAJF,EASE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,aAAD;AACE,IAAA,MAAM,EAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CATF,EAwDE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,YAAD;AACE,IAAA,KAAK,EAAEH,KAAK,CAACO,KADf;AAEE,IAAA,QAAQ,EAAEP,KAAK,CAACQ,QAFlB;AAGE,IAAA,UAAU,EAAER,KAAK,CAACS,UAHpB;AAIE,IAAA,QAAQ,EAAET,KAAK,CAACU,QAJlB;AAKE,IAAA,WAAW,EAAEV,KAAK,CAACW,WALrB;AAME,IAAA,QAAQ,EAAE,OAAO;AAAET,MAAAA,IAAF;AAAQU,MAAAA;AAAR,KAAP,KAA4B;AACpC,UAAIC,QAAQ,GAAG,MAAMZ,WAAW,EAAhC;AACAK,MAAAA,aAAa,CAACO,QAAD,CAAb;AACD,KATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAxDF,EAwEE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAab,KAAK,CAACc,KAAnB,CADF,EAEE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE,MAAC,UAAD;AAAY,IAAA,UAAU,EAAEX,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF,CAxEF,CADF,CADF;AAoFD,CAxHD;;AA0HAJ,KAAK,CAACgB,eAAN,GAAwB,OAAO;AAAEC,EAAAA,GAAF;AAAOC,EAAAA;AAAP,CAAP,KAA2B;AACjD;AACA,QAAMZ,KAAK,GAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAf;;AA4CA,MAAI;AACF,UAAMH,IAAI,GAAG,MAAMe,MAAM,CAACzB,OAAP,CAAea,KAAf,CAAnB;AACA,WAAOH,IAAP;AACD,GAHD,CAGE,OAAOgB,KAAP,EAAc;AACd/B,IAAAA,MAAM,CAACgC,MAAP,CAAc,OAAd;;AACA,QAAIH,GAAJ,EAAS;AACPA,MAAAA,GAAG,CAACI,SAAJ,CAAc,GAAd,EAAmB;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAnB;AACAL,MAAAA,GAAG,CAACM,GAAJ;AACD;AACF;AACF,CAxDD;;AAyDA,eAAepC,YAAY,CAACa,KAAD,CAA3B","sourcesContent":["import { withAuthSync } from \"../utils/auth\";\nimport cookie from \"js-cookie\";\nimport { useState } from \"react\";\nimport Layout from \"../src/Layout\";\nimport AllKetQuas from \"../components/ketQuas/allKetQuas\";\nimport CreateKetQua from \"../components/ketQuas/createKetQua\";\nimport request from \"../components/config/request\";\nimport Logo from \"../src/logo\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Typography } from \"@material-ui/core\";\nimport LightBoard from \"../src/LightBoard\";\nimport ReactMarkdown from \"react-markdown\";\n\nimport Logout from \"../components/user/logout\";\nlet Index = props => {\n  // variables\n  async function getAllCungs() {\n    let {\n      data: { allKetQuas }\n    } = await request({\n      body: {\n        query: `query {\n          allKetQuas(orderBy: \"time_DESC\") {\n            id\n            cung {\n              name\n            }\n            ketQua {\n              id\n              cung {\n                name\n              }\n              chinhTinh {\n                id\n                name\n              }\n              phuTinh {\n                id\n                name\n              }\n              giai\n            }\n          }\n        }\n        `\n      }\n    });\n    return allKetQuas;\n  }\n  let [allKetQuas, setAllKetQuas] = useState(props.allKetQuas);\n  return (\n    <Layout>\n      <Grid container spacing={1}>\n        <Grid item xs={12} md={5}>\n          <Logo />\n        </Grid>\n        <Grid item xs={7}>\n          <LightBoard>\n            <img src=\"/img/tuvibanner.jpg\" />\n          </LightBoard>\n        </Grid>\n        <Grid item xs={12}>\n          <LightBoard>\n            <ReactMarkdown\n              source={`Giới Thiệu:\n\nChào các bạn yêu thích Tử Vi và các mảng khác trong Huyền Học\n\nMình muốn xây dựng một môi trường chính xác hơn trong việc luận giải tương lai của một con người, và quan trọng nhất là cách CẢI VẬN – GIẢI HẠN hoặc làm giảm đi một phần sự rủi ro trong cuộc sống. Vì thế, mình đã tạo ra hệ thống này, gồm có:\n\n- Hệ thống truy xuất ý nghĩa từng Cung/Chính tinh/Phụ tinh ảnh hưởng trong lá số Tử Vi\n\n- Một số thầy luận giải lá số Tử Vi\n\n- Một số thầy coi chỉ tay- tướng số\n\n- Một số thầy (nếu có thể) ở các mảng khác trong Huyền Học-Bói Toán…\n\nNội dung bao quát về luận Tử Vi:\n\nI. Luận đoán tướng mạo, tính cách qua lá số:\n\n- Cung mệnh- cung xung chiếu, cung tam hợp, những cung có thể ảnh hưởng\n\nII. Luận đoán anh em, gia đình, bạn bè\n\n- Cung huynh đệ, phụ mẫu, nô bộc, phu thê, tử tức – cung xung chiếu tam hợp\n\nIII. Luận đoán vận hạn quá khứ gần nhất có thể của đương số hoặc người trong gia đình\n\nIV. Luận đoán về nghề nghiệp phù hợp, về các mối quan hệ xung quanh\n\n- Luận đoán cụ thể vận hạn năm nay và đại vận chung : Coi đại vận 10 năm, tiểu nguyệt vận hạn\n\nV. Hóa giải hạn trong tương lai, là năm nay hoặc những năm tương lai gần\n\nNội dung bao quát về xem Chỉ Tay-Tướng số:\n\n- Xem cơ bản là hiện tại và tương lai gần (bao quát hạn hỷ trong năm)\n\n- Hướng giải về cải vận, bẻ tướng, giảm hạn qua việc thay đổi một số thứ trong cuộc sống và tướng mạo\n\nMình luôn hướng tới việc cải vận, giảm hạn cho mỗi cá nhân, nhưng quan trọng nhất, chúng ta vẫn nên sống Thiện, và ngoài sống Thiện thì “Hãy cho đi, rồi sẽ nhận lại” – “Đức năng, chắc chắn sẽ thắng Số”\n\nChúc các bạn luôn hạnh phúc. Thân ái!`}\n            />\n          </LightBoard>\n        </Grid>\n        <Grid item xs={12}>\n          <LightBoard>\n            <CreateKetQua\n              token={props.token}\n              allCungs={props.allCungs}\n              allCungVis={props.allCungVis}\n              allTinhs={props.allTinhs}\n              allPhuTinhs={props.allPhuTinhs}\n              onCreate={async ({ data, errors }) => {\n                let response = await getAllCungs();\n                setAllKetQuas(response);\n              }}\n            />\n          </LightBoard>\n        </Grid>\n\n        <Grid item xs={12}>\n          <LightBoard>\n            <Typography>{props.email}</Typography>\n            <Logout />\n            <AllKetQuas allKetQuas={allKetQuas} />\n          </LightBoard>\n        </Grid>\n      </Grid>\n    </Layout>\n  );\n};\n\nIndex.getInitialProps = async ({ res, client }) => {\n  //get variables from server\n  const query = `query {\n    allCungs {\n      id\n      name\n      tieuDe1\n      tieuDe2\n      tieuDe3\n      tieuDe4\n      tieuDe5\n    }\n    allCungVis {\n      id\n      name\n    }\n    allTinhs {\n      id\n      name\n    }\n    allPhuTinhs {\n      id\n      name\n    }\n    allKetQuas (orderBy: \"time_DESC\") {\n      id\n      cung {\n        name\n      }\n      ketQua {\n        id\n        cung {\n          name\n        }\n        chinhTinh {\n          id\n          name\n        }\n        phuTinh {\n          id\n          name\n        }\n        giai\n      }\n    }\n  }`;\n  try {\n    const data = await client.request(query);\n    return data;\n  } catch (error) {\n    cookie.remove(\"token\");\n    if (res) {\n      res.writeHead(302, { Location: \"/login\" });\n      res.end();\n    }\n  }\n};\nexport default withAuthSync(Index);\n"]},"metadata":{},"sourceType":"module"}