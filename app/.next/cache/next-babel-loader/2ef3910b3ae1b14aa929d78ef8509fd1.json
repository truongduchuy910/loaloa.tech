{"ast":null,"code":"var __jsx = React.createElement;\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport DirectionsIcon from \"@material-ui/icons/Directions\";\nimport { useState } from \"react\";\nimport request from \"../config/request\";\nconst query = {\n  createMessage: `mutation($text: String, $conversation: ConversationWhereUniqueInput) {\n    createMessage(\n      data: { text: $text, conversation: { connect: $conversation } }\n    ) {\n      id\n    }\n  }`\n};\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: \"1px 2px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\",\n    borderRadius: 8\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1\n  },\n  iconButton: {\n    padding: 8\n  },\n  divider: {\n    height: 21,\n    margin: 3\n  }\n}));\nexport default function createMessage({\n  conversation\n}) {\n  const classes = useStyles();\n  let {\n    0: text,\n    1: setText\n  } = useState();\n  let {\n    0: defaultValue,\n    1: setDefaultValue\n  } = useState();\n\n  async function createMessageClick() {\n    if (text) {\n      let {\n        data\n      } = await request({\n        body: {\n          query: query.createMessage,\n          variables: {\n            text,\n            conversation\n          }\n        }\n      });\n      console.log(data);\n      setText(\"\");\n    }\n  }\n\n  return __jsx(Paper, {\n    className: classes.root,\n    onKeyPress: async event => {\n      if (event.key == \"Enter\") await createMessageClick();\n    }\n  }, __jsx(InputBase, {\n    className: classes.input,\n    placeholder: \"Nh\\u1EADp tin nh\\u1EAFn\",\n    onChange: e => setText(e.target.value),\n    inputProps: {\n      \"aria-label\": \"Nhập tin nhắn\"\n    },\n    value: text ? text : \"\"\n  }), __jsx(Divider, {\n    className: classes.divider,\n    orientation: \"vertical\"\n  }), __jsx(IconButton, {\n    onClick: async () => await createMessageClick(),\n    color: \"primary\",\n    className: classes.iconButton\n  }, __jsx(SendIcon, null)));\n}","map":null,"metadata":{},"sourceType":"module"}