{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport GridList from \"@material-ui/core/GridList\";\nimport GridListTile from \"@material-ui/core/GridListTile\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport fetch from \"isomorphic-fetch\";\nimport { request } from \"graphql-request\";\nimport Copyright from \"../src/Copyright\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Container from \"@material-ui/core/Container\";\nimport Chip from \"@material-ui/core/Chip\";\nimport StackGrid from \"react-stack-grid\";\nimport CodeIcon from \"@material-ui/icons/Code\";\nimport { useState, useEffect } from \"react\";\nimport formatMoney from \"../utils/formatMoney\";\nexport default function Index(_ref) {\n  var allDesigns = _ref.allDesigns,\n      allSettings = _ref.allSettings,\n      allMaintains = _ref.allMaintains,\n      allTemplates = _ref.allTemplates,\n      url = _ref.url;\n\n  var _useState = useState(),\n      width = _useState[0],\n      setWidth = _useState[1];\n\n  var _useState2 = useState(),\n      height = _useState2[0],\n      setHeight = _useState2[1];\n\n  var _useState3 = useState(allDesigns),\n      designs = _useState3[0],\n      setDesigns = _useState3[1];\n\n  var _useState4 = useState(allSettings),\n      settings = _useState4[0],\n      setSettings = _useState4[1];\n\n  var _useState5 = useState(allMaintains),\n      maintains = _useState5[0],\n      setMaintains = _useState5[1];\n\n  var _useState6 = useState(0),\n      price = _useState6[0],\n      setPrice = _useState6[1];\n\n  var _useState7 = useState(0),\n      maintainPrice = _useState7[0],\n      setMaintainPrice = _useState7[1];\n\n  var _useState8 = useState(\"Nhấn chọn để báo giá!\"),\n      guide = _useState8[0],\n      setGuide = _useState8[1];\n\n  function getPrice() {\n    var designs_id, settings_id, maintains_id, res, sum, intergrate, maintain;\n    return _regeneratorRuntime.async(function getPrice$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setGuide(\"Đang tải...\");\n            designs_id = [];\n            designs.map(function (design) {\n              if (design.choosed) designs_id.push(design.id);\n            });\n            settings_id = [];\n            settings.map(function (setting) {\n              if (setting.choosed) settings_id.push(setting.id);\n            });\n            maintains_id = [];\n            maintains.map(function (maintain) {\n              if (maintain.choosed) maintains_id.push(maintain.id);\n            });\n\n            if (designs_id.length) {\n              _context.next = 10;\n              break;\n            }\n\n            setGuide(\"Vui lòng chọn Giao diện\");\n            return _context.abrupt(\"return\", false);\n\n          case 10:\n            if (settings_id.length) {\n              _context.next = 13;\n              break;\n            }\n\n            setGuide(\"Vui lòng chọn Chức năng\");\n            return _context.abrupt(\"return\", false);\n\n          case 13:\n            _context.next = 15;\n            return _regeneratorRuntime.awrap(request(url, \"query($designs: [ID!], $settings: [ID!], $maintains: [ID!]) {\\n  intergrate: allPricings(\\n    where: {\\n      design_every: { id_in: $designs }\\n      setting_every: { id_in: $settings }\\n      maintain_every: { id: null }\\n    }\\n  ) {\\n    design {\\n      name\\n    }\\n    setting {\\n      name\\n    }\\n    price\\n  }\\n  maintain: allPricings(\\n    where: {\\n      design_every: null\\n      setting_every: null\\n      maintain_some: { id_in: $maintains }\\n    }\\n  ) {\\n    price\\n  }\\n}\", {\n              designs: designs_id,\n              settings: settings_id,\n              maintains: maintains_id\n            }));\n\n          case 15:\n            res = _context.sent;\n            console.log(res);\n            sum = 0;\n            intergrate = res.intergrate, maintain = res.maintain;\n            intergrate.map(function (e) {\n              return sum += e.price;\n            });\n            setPrice(sum);\n            sum = 0;\n            maintain.map(function (e) {\n              return sum += e.price;\n            });\n            setMaintainPrice(sum);\n            setGuide(\"Dự toán!\");\n\n          case 25:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  }\n\n  useEffect(function () {\n    window.addEventListener(\"resize\", setWidth(window.innerWidth));\n    window.addEventListener(\"resize\", setHeight(window.innerHeight));\n  });\n  return __jsx(Grid, {\n    container: true,\n    spacing: 0,\n    justify: \"center\",\n    alignItems: \"center\"\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    style: {\n      backgroundColor: \"#212121\"\n    }\n  }, __jsx(Container, {\n    maxWidth: \"lg\"\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    container: true,\n    justify: \"center\",\n    alignItems: \"center\"\n  }, __jsx(Grid, {\n    item: true,\n    sm: 7,\n    md: 6\n  }, __jsx(Typography, {\n    variant: \"h5\",\n    align: \"center\",\n    style: {\n      marginTop: 21,\n      marginBottom: 21,\n      color: \"white\",\n      fontWeight: 800\n    }\n  }, \"Thi\\u1EBFt k\\u1EBF website/app ph\\xE2n kh\\xFAc ph\\u1ED5 th\\xF4ng\"), __jsx(Typography, {\n    variant: \"body1\",\n    align: \"center\",\n    color: \"secondary\"\n  }, \"Gi\\xFAp b\\u1EA1n s\\u1EDF h\\u1EEFu m\\u1ED9t website/app \\u0111\\u1EA7y s\\xE1ng t\\u1EA1o v\\u1EDBi c\\xF4ng ngh\\u1EC7 m\\u1EDBi nh\\u1EA5t \\u0111\\u01B0\\u1EE3c h\\xE0ng tri\\u1EC7u ng\\u01B0\\u1EDDi s\\u1EED d\\u1EE5ng.\", __jsx(\"br\", null), __jsx(CodeIcon, {\n    color: \"secondary\"\n  })), __jsx(Typography, {\n    variant: \"body1\",\n    align: \"center\",\n    color: \"secondary\"\n  }, \"H\\xE2n h\\u1EA1nh \\u0111\\u01B0\\u1EE3c h\\u1EE3p t\\xE1c!\")), __jsx(Grid, {\n    item: true,\n    sm: 5,\n    md: 6\n  }, __jsx(\"img\", {\n    style: {\n      width: \"100%\",\n      padding: 21\n    },\n    src: \"/img/development.png\"\n  }))))), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 1440 320\"\n  }, __jsx(\"path\", {\n    fill: \"#212121\",\n    fillOpacity: \"1\",\n    d: \"M0,32L120,32C240,32,480,32,720,74.7C960,117,1200,203,1320,245.3L1440,288L1440,0L1320,0C1200,0,960,0,720,0C480,0,240,0,120,0L0,0Z\"\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    style: {\n      marginTop: width > 768 ? -75 : 0\n    }\n  }, __jsx(Container, {\n    maxWidth: \"lg\"\n  }, __jsx(Typography, {\n    variant: \"body2\",\n    color: \"secondary\",\n    align: \"center\",\n    style: {\n      marginTop: 21\n    }\n  }, \"GI\\u1EDAI THI\\u1EC6U\"), __jsx(Typography, {\n    variant: \"h5\",\n    align: \"center\",\n    style: {\n      fontWeight: 800\n    }\n  }, \"Nhanh, R\\u1EBB, \\u0110\\u1EB9p, Hi\\u1EC7n \\u0110\\u1EA1i.\", __jsx(Typography, {\n    variant: \"body1\",\n    color: \"secondary\",\n    align: \"center\",\n    style: {\n      marginBottom: 21\n    }\n  }, \"L\\xE0 nh\\u1EEFng g\\xEC ch\\xFAng t\\xF4i c\\xF3 v\\xE0 hy v\\u1ECDng mang l\\u1EA1i cho b\\u1EA1n nhi\\u1EC1u h\\u01A1n th\\u1EBF n\\u1EEFa.\")), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    container: true,\n    justify: \"center\",\n    alignItems: \"center\"\n  }, allTemplates.map(function (template) {\n    return __jsx(Grid, {\n      item: true,\n      xs: 6,\n      sm: 6,\n      md: 4,\n      lg: 2,\n      key: template.id\n    }, __jsx(\"img\", {\n      src: template.file.publicUrl,\n      style: {\n        width: \"100%\"\n      }\n    }));\n  })), __jsx(Typography, {\n    variant: \"body2\",\n    color: \"secondary\",\n    align: \"center\",\n    style: {\n      marginTop: 34\n    }\n  }, \"B\\u1EA0N C\\xD3 Y\\xCAU C\\u1EA6U G\\xCC?\"), __jsx(Typography, {\n    variant: \"h5\",\n    align: \"center\",\n    style: {\n      fontWeight: 800\n    }\n  }, guide), __jsx(Typography, {\n    variant: \"body1\",\n    color: \"primary\",\n    align: \"center\"\n  }, formatMoney(price, 0), \" - \\u0111\"), __jsx(Typography, {\n    variant: \"body2\",\n    color: \"secondary\",\n    align: \"center\",\n    style: {\n      marginBottom: 21\n    }\n  }, formatMoney(maintainPrice, 0), \" - \\u0111 / n\\u0103m\"), __jsx(Typography, {\n    variant: \"h6\",\n    style: {\n      marginTop: 21\n    }\n  }, \"Ch\\u1EE9c n\\u0103ng\"), __jsx(Typography, {\n    variant: \"body1\",\n    color: \"secondary\"\n  }, \"Ch\\u1ECDn c\\xE1c ch\\u1EE9c n\\u0103ng v\\xE0 th\\xE0nh ph\\u1EA7n b\\u1EA1n mu\\u1ED1n xu\\u1EA5t hi\\u1EC7n tr\\xEAn website/app c\\u1EE7a m\\xECnh.\"), settings.map(function (setting) {\n    return __jsx(Chip, {\n      key: setting.id,\n      style: {\n        margin: 5\n      },\n      label: setting.name,\n      onClick: function onClick() {\n        setting.choosed = !Boolean(setting.choosed);\n\n        var newSettinngs = _toConsumableArray(settings);\n\n        setSettings(newSettinngs);\n        getPrice();\n      },\n      color: setting.choosed ? \"primary\" : \"default\",\n      variant: \"outlined\",\n      size: \"small\"\n    });\n  }), __jsx(Typography, {\n    variant: \"h6\",\n    style: {\n      marginTop: 21\n    }\n  }, \"Giao di\\u1EC7n\"), __jsx(Typography, {\n    variant: \"body1\",\n    color: \"secondary\"\n  }, \"L\\u1EF1a ch\\u1ECDn m\\u1EE9c \\u0111\\u1ED9, phong c\\xE1ch giao di\\u1EC7n.\"), designs.map(function (design) {\n    return __jsx(Chip, {\n      key: design.id,\n      style: {\n        margin: 5\n      },\n      label: design.name,\n      onClick: function onClick() {\n        design.choosed = !Boolean(design.choosed);\n\n        var newDesigns = _toConsumableArray(designs);\n\n        setDesigns(newDesigns);\n        getPrice();\n      },\n      color: design.choosed ? \"primary\" : \"default\",\n      variant: \"outlined\",\n      size: \"small\"\n    });\n  }), __jsx(Typography, {\n    variant: \"h6\",\n    style: {\n      marginTop: 21\n    }\n  }, \"Duy tr\\xEC\"), __jsx(Typography, {\n    variant: \"body1\",\n    color: \"secondary\"\n  }, \"M\\u1ED9t website/app c\\xF3 t\\u1ED1c \\u0111\\u1ED9 t\\u1EA3i (load) nhanh gi\\xFAp n\\xE2ng cao tr\\u1EA3i nghi\\u1EC7m kh\\xE1ch h\\xE0ng\"), maintains.map(function (maintain) {\n    return __jsx(Chip, {\n      key: maintain.id,\n      style: {\n        margin: 5\n      },\n      label: maintain.name,\n      onClick: function onClick() {\n        maintain.choosed = !Boolean(maintain.choosed);\n\n        var newMaintain = _toConsumableArray(maintains);\n\n        setMaintains(newMaintain);\n        getPrice();\n      },\n      color: maintain.choosed ? \"primary\" : \"default\",\n      variant: \"outlined\",\n      size: \"small\"\n    });\n  }), __jsx(Typography, {\n    variant: \"body2\",\n    color: \"secondary\",\n    align: \"center\",\n    style: {\n      marginTop: 34\n    }\n  }, __jsx(CodeIcon, {\n    color: \"secondary\"\n  })), __jsx(Typography, {\n    variant: \"h5\",\n    align: \"center\",\n    style: {\n      fontWeight: 800\n    }\n  }, \"Ho\\u1EB7c ch\\u1EC9 c\\u1EA7n g\\u1EEDi b\\xE0i vi\\u1EBFt, h\\xECnh \\u1EA3nh.\"), __jsx(Typography, {\n    variant: \"body2\",\n    color: \"secondary\",\n    align: \"center\",\n    style: {\n      marginBottom: 13,\n      marginTop: 13\n    }\n  }, \"Loa Loa Teams S\\u1EBD B\\u1ED1 Tr\\xED B\\xE0i Vi\\u1EBFt, H\\xECnh \\u1EA2nh. S\\xE1ng T\\u1EA1o Giao Di\\u1EC7n T\\u01B0\\u01A1ng X\\u1EE9ng V\\u1EDBi Th\\u01B0\\u01A1ng Hi\\u1EC7u C\\u1EE7a B\\u1EA1n.\"), __jsx(Typography, {\n    variant: \"body1\",\n    color: \"primary\",\n    align: \"center\",\n    style: {\n      marginBottom: 21\n    }\n  }, \"6.000.000\"))), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    container: true,\n    style: {\n      backgroundColor: \"#212121\",\n      marginTop: 21,\n      padding: 21\n    }\n  }, __jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 1440 320\"\n  }, __jsx(\"path\", {\n    fill: \"#212121\",\n    fillOpacity: \"1\",\n    d: \"M0,32L120,32C240,32,480,32,720,74.7C960,117,1200,203,1320,245.3L1440,288L1440,0L1320,0C1200,0,960,0,720,0C480,0,240,0,120,0L0,0Z\"\n  })), __jsx(Container, {\n    maxWidth: \"lg\"\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 2,\n    justify: \"center\",\n    alignItems: \"center\"\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6,\n    sm: 5,\n    md: 4,\n    lg: 3\n  }, __jsx(\"img\", {\n    style: {\n      width: \"100%\",\n      padding: 21\n    },\n    src: \"/img/coder.png\"\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 5,\n    md: 4,\n    lg: 3\n  }, __jsx(Typography, {\n    variant: \"h6\",\n    align: \"center\",\n    style: {\n      color: \"white\"\n    }\n  }, \"Li\\xEAn H\\u1EC7\"), __jsx(Typography, {\n    variant: \"body1\",\n    align: \"center\",\n    color: \"secondary\"\n  }, \"Tr\\u1EA7n Ng\\u1ECDc Huy\", __jsx(\"br\", null), \"100 Nguy\\u1EC5n L\\u01B0\\u01A1ng B\\u1EB1ng, Li\\xEAn Chi\\u1EC3u, \\u0110\\xE0 N\\u1EB5ng.\", __jsx(\"br\", null), \"0332813077\", __jsx(\"br\", null), \"truongduchuy910@gmail.com\"), __jsx(Typography, {\n    variant: \"body1\",\n    color: \"secondary\"\n  }), __jsx(Typography, {\n    variant: \"body1\",\n    color: \"secondary\"\n  }))), __jsx(Copyright, null))));\n}\n\nIndex.getInitialProps = function _callee(ctx) {\n  var a, url, response;\n  return _regeneratorRuntime.async(function _callee$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          a = \"\";\n          if (false) a = \"http://\";else a = \"https://\";\n\n          if (ctx.req) {\n            url = a + ctx.req.headers.host + \"/admin/api\";\n          } else {\n            url = window.location.origin + \"/admin/api\";\n          }\n\n          _context2.next = 5;\n          return _regeneratorRuntime.awrap(request(url, \"query {\\n  allDesigns {\\n    id\\n    name\\n  }\\n  allSettings {\\n    id \\n    name \\n  }\\n  allMaintains {\\n    id\\n    name \\n  }\\n  allTemplates {\\n    id\\n    file {\\n      publicUrl\\n    }\\n  }\\n}\\n\"));\n\n        case 5:\n          response = _context2.sent;\n          response.url = url;\n          return _context2.abrupt(\"return\", response);\n\n        case 8:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  });\n};","map":null,"metadata":{},"sourceType":"module"}