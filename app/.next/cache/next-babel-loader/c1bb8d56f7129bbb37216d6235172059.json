{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport cookie from \"js-cookie\";\nexport default function request(_ref) {\n  var body, uri, fetch, headers, token, response, data;\n  return _regeneratorRuntime.async(function request$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          body = _ref.body;\n          uri = window.location.origin + \"/admin/api\";\n          fetch = require(\"isomorphic-fetch\");\n          headers = {\n            \"Content-Type\": \"application/json\"\n          };\n          token = cookie.get(\"token\");\n          if (token) headers.Authorization = \"Bearer \".concat(token);\n          _context.next = 8;\n          return _regeneratorRuntime.awrap(fetch(uri, {\n            method: \"POST\",\n            mode: \"cors\",\n            cache: \"no-cache\",\n            credentials: \"same-origin\",\n            headers: headers,\n            redirect: \"follow\",\n            referrerPolicy: \"no-referrer\",\n            body: _JSON$stringify(body)\n          }));\n\n        case 8:\n          response = _context.sent;\n          _context.next = 11;\n          return _regeneratorRuntime.awrap(response.json());\n\n        case 11:\n          data = _context.sent;\n          return _context.abrupt(\"return\", data);\n\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n}","map":{"version":3,"sources":["/home/truongduchuy910/apps/loaloa.me/app/components/config/request.js"],"names":["cookie","request","body","uri","window","location","origin","fetch","require","headers","token","get","Authorization","method","mode","cache","credentials","redirect","referrerPolicy","response","json","data"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,WAAnB;AAEA,eAAe,SAAeC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyBC,UAAAA,IAAzB,QAAyBA,IAAzB;AACPC,UAAAA,GADO,GACDC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAAyB,YADxB;AAETC,UAAAA,KAFS,GAEDC,OAAO,CAAC,kBAAD,CAFN;AAITC,UAAAA,OAJS,GAIC;AACZ,4BAAgB;AADJ,WAJD;AAOTC,UAAAA,KAPS,GAODV,MAAM,CAACW,GAAP,CAAW,OAAX,CAPC;AAQb,cAAID,KAAJ,EAAWD,OAAO,CAACG,aAAR,oBAAkCF,KAAlC;AARE;AAAA,2CASUH,KAAK,CAACJ,GAAD,EAAM;AAChCU,YAAAA,MAAM,EAAE,MADwB;AAEhCC,YAAAA,IAAI,EAAE,MAF0B;AAGhCC,YAAAA,KAAK,EAAE,UAHyB;AAIhCC,YAAAA,WAAW,EAAE,aAJmB;AAKhCP,YAAAA,OAAO,EAAPA,OALgC;AAMhCQ,YAAAA,QAAQ,EAAE,QANsB;AAOhCC,YAAAA,cAAc,EAAE,aAPgB;AAQhChB,YAAAA,IAAI,EAAE,gBAAeA,IAAf;AAR0B,WAAN,CATf;;AAAA;AASPiB,UAAAA,QATO;AAAA;AAAA,2CAmBIA,QAAQ,CAACC,IAAT,EAnBJ;;AAAA;AAmBTC,UAAAA,IAnBS;AAAA,2CAoBNA,IApBM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import cookie from \"js-cookie\";\n\nexport default async function request({ body }) {\n  const uri = window.location.origin + \"/admin/api\";\n  let fetch = require(\"isomorphic-fetch\");\n\n  let headers = {\n    \"Content-Type\": \"application/json\"\n  };\n  let token = cookie.get(\"token\");\n  if (token) headers.Authorization = `Bearer ${token}`;\n  const response = await fetch(uri, {\n    method: \"POST\",\n    mode: \"cors\",\n    cache: \"no-cache\",\n    credentials: \"same-origin\",\n    headers,\n    redirect: \"follow\",\n    referrerPolicy: \"no-referrer\",\n    body: JSON.stringify(body)\n  });\n  let data = await response.json();\n  return data;\n}\n"]},"metadata":{},"sourceType":"module"}