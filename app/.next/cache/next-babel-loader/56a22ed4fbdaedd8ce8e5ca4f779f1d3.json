{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { signup } from \"../utils/auth\";\nimport { useState } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Container from \"@material-ui/core/Container\";\nimport Layout from \"../src/Layout\";\nimport LightBoard from \"../src/LightBoard\";\nimport request from \"../components/config/request\";\nimport { withAuthSync } from \"../utils/auth\";\nimport Link from \"../src/Link\";\nimport Logo from \"../src/logo\";\nimport { Typography } from \"@material-ui/core\";\n\nfunction Signup() {\n  var _useState = useState(false),\n      username = _useState[0],\n      setUserName = _useState[1];\n\n  var _useState2 = useState(false),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(false),\n      confirm = _useState3[0],\n      setConfirm = _useState3[1];\n\n  var _useState4 = useState(\"Đăng ký\"),\n      buttonStatus = _useState4[0],\n      setButtonStatus = _useState4[1];\n\n  var _useState5 = useState(false),\n      alert = _useState5[0],\n      setAlert = _useState5[1];\n\n  function loginButtonClick() {\n    var response, createUser;\n    return _regeneratorRuntime.async(function loginButtonClick$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setButtonStatus(\"Vui lòng đợi...\");\n            if (username.length <= 5) setAlert(\"Tên đăng nhập phải nhiều hơn 5 ký tự.\");\n            if (password.length <= 7) setAlert(\"Mật khẩu phải ít nhất 8 kí tự.\");\n            if (password != confirm) setAlert(\"Nhập lại mật khẩu không đúng.\");\n\n            if (!(username && password && username.length > 5 && password.length > 7 && password == confirm)) {\n              _context.next = 12;\n              break;\n            }\n\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(request({\n              body: {\n                query: \"mutation ($username: String, $password: String) {\\n            createUser(data: { email: $username, password: $password, isCustomer: true }) {\\n            id\\n            }\\n        }\",\n                variables: {\n                  username: username,\n                  password: password\n                }\n              }\n            }));\n\n          case 7:\n            response = _context.sent;\n            createUser = response.data.createUser;\n\n            if (createUser) {\n              setButtonStatus(\"Đăng ký thành công!\");\n              signup();\n            } else {\n              setAlert(\"Tên đăng nhập có thể bị trùng. Thử lại với tên đăng nhập và mật khẩu khác.\");\n            }\n\n            _context.next = 13;\n            break;\n\n          case 12:\n            setButtonStatus(\"Kiểm tra thông tin và thử lại.\");\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  }\n\n  return __jsx(Layout, null, __jsx(Container, {\n    maxWidth: \"sm\"\n  }, __jsx(LightBoard, null, __jsx(Grid, {\n    container: true,\n    spacing: 2,\n    justify: \"center\"\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(Logo, null)), __jsx(\"form\", {\n    noValidate: true,\n    autoComplete: \"off\"\n  }, __jsx(Grid, {\n    container: true,\n    justify: \"center\",\n    spacing: 1\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(TextField, {\n    required: true,\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"username\",\n    label: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\",\n    onChange: function onChange(e) {\n      setUserName(e.target.value);\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(TextField, {\n    required: true,\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"password\",\n    label: \"M\\u1EADt kh\\u1EA9u\",\n    type: \"password\",\n    onChange: function onChange(e) {\n      setPassword(e.target.value);\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(TextField, {\n    required: true,\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"confirm\",\n    label: \"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u\",\n    type: \"password\",\n    onChange: function onChange(e) {\n      setConfirm(e.target.value);\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(Button, {\n    fullWidth: true // variant=\"outlined\"\n    ,\n    onClick: function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(loginButtonClick());\n\n            case 2:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    }\n  }, buttonStatus)), alert ? __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(Typography, null, alert)) : null, __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(Link, {\n    href: \"/login\"\n  }, \"\\u0110\\u0103ng nh\\u1EADp\")))))), __jsx(Grid, {\n    style: {\n      marginTop: 20\n    }\n  }, __jsx(LightBoard, null, __jsx(Grid, {\n    container: true,\n    display: \"flex\",\n    alignItems: \"center\",\n    direction: \"column\"\n  }, __jsx(Grid, null, __jsx(\"label\", null, \"\\u0110\\xE2y l\\xE0 trang web d\\u1ECBch v\\u1EE5\")), __jsx(Grid, null, __jsx(\"label\", null, \"Xin th\\xF4ng c\\u1EA3m v\\xEC s\\u1EF1 b\\u1EA5t ti\\u1EC7n n\\xE0y!\")), __jsx(Grid, null, __jsx(\"h3\", null, \"B\\u1EA2NG GI\\xC1:\")), __jsx(Grid, null, __jsx(\"ul\", null, __jsx(\"li\", null, \"100k/36 l\\u01B0\\u1EE3t check~3 l\\xE1 s\\u1ED1 12 cung\"), __jsx(\"li\", null, \"300k/l\\u01B0\\u1EE3t lu\\u1EADn t\\u1EED vi/ xem ch\\u1EC9 tay + 36 l\\u01B0\\u1EE3t check\\\"\"))))))));\n}\n\nexport default Signup;","map":null,"metadata":{},"sourceType":"module"}