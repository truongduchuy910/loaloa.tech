{"ast":null,"code":"var _jsxFileName = \"/home/truongduchuy910/apps/tuvi/app/components/ketQuas/createKetQua.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport AllCungs from \"../cungs/allCungs\";\nimport AllCungVis from \"../cungVis/allCungVis\";\nimport AllTinhs from \"../tinhs/allTinhs\";\nimport AllPhuTinhs from \"../phuTinhs/allPhuTinhs\";\nimport { useState } from \"react\";\nimport request from \"../config/request\";\nimport cookie from \"js-cookie\";\nexport default function createKetQua({\n  allCungs = [],\n  allCungVis = [],\n  allTinhs = [],\n  allPhuTinhs = [],\n  onCreate\n}) {\n  function idOnly(values = []) {\n    let temp = [];\n    values.forEach(tinhs => {\n      if (tinhs) tinhs.forEach(tinh => {\n        temp.push({\n          id: tinh.id\n        });\n      });\n    });\n    return temp;\n  }\n\n  let {\n    0: createButtonStatus,\n    1: setCreateButtonStatus\n  } = useState(\"Xem Kết Quả\");\n  let {\n    0: selectedCung,\n    1: setSelectedCung\n  } = useState();\n  let {\n    0: selectedCungVi,\n    1: setSelectedCungVi\n  } = useState();\n  let {\n    0: selectedTinhs,\n    1: setSelectedTinhs\n  } = useState([]);\n  let {\n    0: selectedPhuTinhs,\n    1: setSelectedPhuTinhs\n  } = useState([]);\n  let {\n    0: selectedPhuTinhs1,\n    1: setSelectedPhuTinhs1\n  } = useState([]);\n  let {\n    0: selectedPhuTinhs2,\n    1: setSelectedPhuTinhs2\n  } = useState([]);\n  let {\n    0: selectedPhuTinhs3,\n    1: setSelectedPhuTinhs3\n  } = useState([]);\n  let {\n    0: selectedPhuTinhs4,\n    1: setSelectedPhuTinhs4\n  } = useState([]);\n  let {\n    0: selectedPhuTinhs5,\n    1: setSelectedPhuTinhs5\n  } = useState([]);\n  let {\n    0: label1,\n    1: setLabel1\n  } = useState(false);\n  let {\n    0: label2,\n    1: setLabel2\n  } = useState(false);\n  let {\n    0: label3,\n    1: setLabel3\n  } = useState(false);\n  let {\n    0: label4,\n    1: setLabel4\n  } = useState(false);\n  let {\n    0: label5,\n    1: setLabel5\n  } = useState(false);\n  let variables = {\n    selectedCung,\n    selectedCungVi,\n    selectedTinhs: idOnly([selectedTinhs]),\n    selectedPhuTinhs: idOnly([selectedPhuTinhs, selectedPhuTinhs1, selectedPhuTinhs2, selectedPhuTinhs3, selectedPhuTinhs4, selectedPhuTinhs5])\n  }; // console.log(variables);\n  // functions\n\n  async function createKetQua() {\n    setCreateButtonStatus(\"Vui lòng chờ...\");\n    const query = `mutation(\n      $selectedCung: CungWhereUniqueInput\n      $selectedCungVi: CungViWhereUniqueInput\n      $selectedTinhs: [TinhWhereUniqueInput]\n      $selectedPhuTinhs: [PhuTinhWhereUniqueInput]\n  ) {\n      createKetQua(\n      data: {\n          cung: { connect: $selectedCung }\n          cungVi: { connect: $selectedCungVi}\n          chinhTinh: { connect: $selectedTinhs, disconnectAll: true }\n          phuTinh: { connect: $selectedPhuTinhs, disconnectAll: true }\n      }\n      ) {\n        id\n      }\n  }`;\n    const {\n      data,\n      errors\n    } = await request({\n      body: {\n        query,\n        variables\n      }\n    });\n    console.log(data.createKetQua);\n    setCreateButtonStatus(\"Xem kết Quả\");\n    if (onCreate) onCreate({\n      data,\n      errors\n    });\n  }\n\n  return __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    justify: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, __jsx(AllCungs, {\n    allCungs: allCungs,\n    onChange: value => {\n      if (value) {\n        setLabel1(value.tieuDe1);\n        setLabel2(value.tieuDe2);\n        setLabel3(value.tieuDe3);\n        setLabel4(value.tieuDe4);\n        setLabel5(value.tieuDe5);\n        setSelectedCung({\n          id: value.id\n        });\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, __jsx(AllCungVis, {\n    allCungVis: allCungVis,\n    onSelect: value => {\n      if (value) setSelectedCungVi({\n        id: value.id\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, __jsx(AllTinhs, {\n    allTinhs: allTinhs,\n    onSelect: values => setSelectedTinhs(values),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, __jsx(AllPhuTinhs, {\n    allPhuTinhs: allPhuTinhs,\n    onSelect: values => setSelectedPhuTinhs(values),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, __jsx(AllPhuTinhs, {\n    label: label1,\n    allPhuTinhs: allPhuTinhs,\n    onSelect: values => setSelectedPhuTinhs1(values),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, __jsx(AllPhuTinhs, {\n    label: label2,\n    allPhuTinhs: allPhuTinhs,\n    onSelect: values => setSelectedPhuTinhs2(values),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, __jsx(AllPhuTinhs, {\n    label: label3,\n    allPhuTinhs: allPhuTinhs,\n    onSelect: values => setSelectedPhuTinhs3(values),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, __jsx(AllPhuTinhs, {\n    label: label4,\n    allPhuTinhs: allPhuTinhs,\n    onSelect: values => setSelectedPhuTinhs4(values),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, __jsx(AllPhuTinhs, {\n    label: label5,\n    allPhuTinhs: allPhuTinhs,\n    onSelect: values => setSelectedPhuTinhs5(values),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    lg: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, __jsx(Button, {\n    style: {\n      backgroundColor: \"#76552a\",\n      color: \"#dab857\",\n      marginTop: 21,\n      marginBottom: 21\n    },\n    fullWidth: true,\n    onClick: () => createKetQua(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, createButtonStatus)));\n}","map":{"version":3,"sources":["/home/truongduchuy910/apps/tuvi/app/components/ketQuas/createKetQua.js"],"names":["Grid","Button","AllCungs","AllCungVis","AllTinhs","AllPhuTinhs","useState","request","cookie","createKetQua","allCungs","allCungVis","allTinhs","allPhuTinhs","onCreate","idOnly","values","temp","forEach","tinhs","tinh","push","id","createButtonStatus","setCreateButtonStatus","selectedCung","setSelectedCung","selectedCungVi","setSelectedCungVi","selectedTinhs","setSelectedTinhs","selectedPhuTinhs","setSelectedPhuTinhs","selectedPhuTinhs1","setSelectedPhuTinhs1","selectedPhuTinhs2","setSelectedPhuTinhs2","selectedPhuTinhs3","setSelectedPhuTinhs3","selectedPhuTinhs4","setSelectedPhuTinhs4","selectedPhuTinhs5","setSelectedPhuTinhs5","label1","setLabel1","label2","setLabel2","label3","setLabel3","label4","setLabel4","label5","setLabel5","variables","query","data","errors","body","console","log","value","tieuDe1","tieuDe2","tieuDe3","tieuDe4","tieuDe5","backgroundColor","color","marginTop","marginBottom"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,wBAAjB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,eAAe,SAASC,YAAT,CAAsB;AACnCC,EAAAA,QAAQ,GAAG,EADwB;AAEnCC,EAAAA,UAAU,GAAG,EAFsB;AAGnCC,EAAAA,QAAQ,GAAG,EAHwB;AAInCC,EAAAA,WAAW,GAAG,EAJqB;AAKnCC,EAAAA;AALmC,CAAtB,EAMZ;AACD,WAASC,MAAT,CAAgBC,MAAM,GAAG,EAAzB,EAA6B;AAC3B,QAAIC,IAAI,GAAG,EAAX;AAEAD,IAAAA,MAAM,CAACE,OAAP,CAAgBC,KAAD,IAAW;AACxB,UAAIA,KAAJ,EACEA,KAAK,CAACD,OAAN,CAAeE,IAAD,IAAU;AACtBH,QAAAA,IAAI,CAACI,IAAL,CAAU;AAAEC,UAAAA,EAAE,EAAEF,IAAI,CAACE;AAAX,SAAV;AACD,OAFD;AAGH,KALD;AAMA,WAAOL,IAAP;AACD;;AACD,MAAI;AAAA,OAACM,kBAAD;AAAA,OAAqBC;AAArB,MAA8ClB,QAAQ,CAAC,aAAD,CAA1D;AACA,MAAI;AAAA,OAACmB,YAAD;AAAA,OAAeC;AAAf,MAAkCpB,QAAQ,EAA9C;AACA,MAAI;AAAA,OAACqB,cAAD;AAAA,OAAiBC;AAAjB,MAAsCtB,QAAQ,EAAlD;AACA,MAAI;AAAA,OAACuB,aAAD;AAAA,OAAgBC;AAAhB,MAAoCxB,QAAQ,CAAC,EAAD,CAAhD;AACA,MAAI;AAAA,OAACyB,gBAAD;AAAA,OAAmBC;AAAnB,MAA0C1B,QAAQ,CAAC,EAAD,CAAtD;AACA,MAAI;AAAA,OAAC2B,iBAAD;AAAA,OAAoBC;AAApB,MAA4C5B,QAAQ,CAAC,EAAD,CAAxD;AACA,MAAI;AAAA,OAAC6B,iBAAD;AAAA,OAAoBC;AAApB,MAA4C9B,QAAQ,CAAC,EAAD,CAAxD;AACA,MAAI;AAAA,OAAC+B,iBAAD;AAAA,OAAoBC;AAApB,MAA4ChC,QAAQ,CAAC,EAAD,CAAxD;AACA,MAAI;AAAA,OAACiC,iBAAD;AAAA,OAAoBC;AAApB,MAA4ClC,QAAQ,CAAC,EAAD,CAAxD;AACA,MAAI;AAAA,OAACmC,iBAAD;AAAA,OAAoBC;AAApB,MAA4CpC,QAAQ,CAAC,EAAD,CAAxD;AACA,MAAI;AAAA,OAACqC,MAAD;AAAA,OAASC;AAAT,MAAsBtC,QAAQ,CAAC,KAAD,CAAlC;AACA,MAAI;AAAA,OAACuC,MAAD;AAAA,OAASC;AAAT,MAAsBxC,QAAQ,CAAC,KAAD,CAAlC;AACA,MAAI;AAAA,OAACyC,MAAD;AAAA,OAASC;AAAT,MAAsB1C,QAAQ,CAAC,KAAD,CAAlC;AACA,MAAI;AAAA,OAAC2C,MAAD;AAAA,OAASC;AAAT,MAAsB5C,QAAQ,CAAC,KAAD,CAAlC;AACA,MAAI;AAAA,OAAC6C,MAAD;AAAA,OAASC;AAAT,MAAsB9C,QAAQ,CAAC,KAAD,CAAlC;AACA,MAAI+C,SAAS,GAAG;AACd5B,IAAAA,YADc;AAEdE,IAAAA,cAFc;AAGdE,IAAAA,aAAa,EAAEd,MAAM,CAAC,CAACc,aAAD,CAAD,CAHP;AAIdE,IAAAA,gBAAgB,EAAEhB,MAAM,CAAC,CACvBgB,gBADuB,EAEvBE,iBAFuB,EAGvBE,iBAHuB,EAIvBE,iBAJuB,EAKvBE,iBALuB,EAMvBE,iBANuB,CAAD;AAJV,GAAhB,CA3BC,CAwCD;AACA;;AACA,iBAAehC,YAAf,GAA8B;AAC5Be,IAAAA,qBAAqB,CAAC,iBAAD,CAArB;AACA,UAAM8B,KAAK,GAAI;;;;;;;;;;;;;;;;IAAf;AAkBA,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAmB,MAAMjD,OAAO,CAAC;AAAEkD,MAAAA,IAAI,EAAE;AAAEH,QAAAA,KAAF;AAASD,QAAAA;AAAT;AAAR,KAAD,CAAtC;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAAC9C,YAAjB;AACAe,IAAAA,qBAAqB,CAAC,aAAD,CAArB;AACA,QAAIV,QAAJ,EAAcA,QAAQ,CAAC;AAAEyC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,KAAD,CAAR;AACf;;AACD,SACE,MAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAE,CAAzB;AAA4B,IAAA,OAAO,EAAC,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,QAAD;AACE,IAAA,QAAQ,EAAE9C,QADZ;AAEE,IAAA,QAAQ,EAAGkD,KAAD,IAAW;AACnB,UAAIA,KAAJ,EAAW;AACThB,QAAAA,SAAS,CAACgB,KAAK,CAACC,OAAP,CAAT;AACAf,QAAAA,SAAS,CAACc,KAAK,CAACE,OAAP,CAAT;AACAd,QAAAA,SAAS,CAACY,KAAK,CAACG,OAAP,CAAT;AACAb,QAAAA,SAAS,CAACU,KAAK,CAACI,OAAP,CAAT;AACAZ,QAAAA,SAAS,CAACQ,KAAK,CAACK,OAAP,CAAT;AACAvC,QAAAA,eAAe,CAAC;AAAEJ,UAAAA,EAAE,EAAEsC,KAAK,CAACtC;AAAZ,SAAD,CAAf;AACD;AACF,KAXH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAiBE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AACE,IAAA,UAAU,EAAEX,UADd;AAEE,IAAA,QAAQ,EAAGiD,KAAD,IAAW;AACnB,UAAIA,KAAJ,EAAWhC,iBAAiB,CAAC;AAAEN,QAAAA,EAAE,EAAEsC,KAAK,CAACtC;AAAZ,OAAD,CAAjB;AACZ,KAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAjBF,EAyBE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,QAAD;AACE,IAAA,QAAQ,EAAEV,QADZ;AAEE,IAAA,QAAQ,EAAGI,MAAD,IAAYc,gBAAgB,CAACd,MAAD,CAFxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAzBF,EA+BE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AACE,IAAA,WAAW,EAAEH,WADf;AAEE,IAAA,QAAQ,EAAGG,MAAD,IAAYgB,mBAAmB,CAAChB,MAAD,CAF3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA/BF,EAqCE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AACE,IAAA,KAAK,EAAE2B,MADT;AAEE,IAAA,WAAW,EAAE9B,WAFf;AAGE,IAAA,QAAQ,EAAGG,MAAD,IAAYkB,oBAAoB,CAAClB,MAAD,CAH5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CArCF,EA4CE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AACE,IAAA,KAAK,EAAE6B,MADT;AAEE,IAAA,WAAW,EAAEhC,WAFf;AAGE,IAAA,QAAQ,EAAGG,MAAD,IAAYoB,oBAAoB,CAACpB,MAAD,CAH5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA5CF,EAmDE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AACE,IAAA,KAAK,EAAE+B,MADT;AAEE,IAAA,WAAW,EAAElC,WAFf;AAGE,IAAA,QAAQ,EAAGG,MAAD,IAAYsB,oBAAoB,CAACtB,MAAD,CAH5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAnDF,EA0DE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AACE,IAAA,KAAK,EAAEiC,MADT;AAEE,IAAA,WAAW,EAAEpC,WAFf;AAGE,IAAA,QAAQ,EAAGG,MAAD,IAAYwB,oBAAoB,CAACxB,MAAD,CAH5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA1DF,EAiEE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AACE,IAAA,KAAK,EAAEmC,MADT;AAEE,IAAA,WAAW,EAAEtC,WAFf;AAGE,IAAA,QAAQ,EAAGG,MAAD,IAAY0B,oBAAoB,CAAC1B,MAAD,CAH5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAjEF,EAwEE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,EAAE,CAAvB;AAA0B,IAAA,EAAE,EAAE,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AACE,IAAA,KAAK,EAAE;AACLkD,MAAAA,eAAe,EAAE,SADZ;AAELC,MAAAA,KAAK,EAAE,SAFF;AAGLC,MAAAA,SAAS,EAAE,EAHN;AAILC,MAAAA,YAAY,EAAE;AAJT,KADT;AAOE,IAAA,SAAS,MAPX;AAQE,IAAA,OAAO,EAAE,MAAM5D,YAAY,EAR7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUGc,kBAVH,CADF,CAxEF,CADF;AAyFD","sourcesContent":["import Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport AllCungs from \"../cungs/allCungs\";\nimport AllCungVis from \"../cungVis/allCungVis\";\nimport AllTinhs from \"../tinhs/allTinhs\";\nimport AllPhuTinhs from \"../phuTinhs/allPhuTinhs\";\nimport { useState } from \"react\";\nimport request from \"../config/request\";\nimport cookie from \"js-cookie\";\n\nexport default function createKetQua({\n  allCungs = [],\n  allCungVis = [],\n  allTinhs = [],\n  allPhuTinhs = [],\n  onCreate,\n}) {\n  function idOnly(values = []) {\n    let temp = [];\n\n    values.forEach((tinhs) => {\n      if (tinhs)\n        tinhs.forEach((tinh) => {\n          temp.push({ id: tinh.id });\n        });\n    });\n    return temp;\n  }\n  let [createButtonStatus, setCreateButtonStatus] = useState(\"Xem Kết Quả\");\n  let [selectedCung, setSelectedCung] = useState();\n  let [selectedCungVi, setSelectedCungVi] = useState();\n  let [selectedTinhs, setSelectedTinhs] = useState([]);\n  let [selectedPhuTinhs, setSelectedPhuTinhs] = useState([]);\n  let [selectedPhuTinhs1, setSelectedPhuTinhs1] = useState([]);\n  let [selectedPhuTinhs2, setSelectedPhuTinhs2] = useState([]);\n  let [selectedPhuTinhs3, setSelectedPhuTinhs3] = useState([]);\n  let [selectedPhuTinhs4, setSelectedPhuTinhs4] = useState([]);\n  let [selectedPhuTinhs5, setSelectedPhuTinhs5] = useState([]);\n  let [label1, setLabel1] = useState(false);\n  let [label2, setLabel2] = useState(false);\n  let [label3, setLabel3] = useState(false);\n  let [label4, setLabel4] = useState(false);\n  let [label5, setLabel5] = useState(false);\n  let variables = {\n    selectedCung,\n    selectedCungVi,\n    selectedTinhs: idOnly([selectedTinhs]),\n    selectedPhuTinhs: idOnly([\n      selectedPhuTinhs,\n      selectedPhuTinhs1,\n      selectedPhuTinhs2,\n      selectedPhuTinhs3,\n      selectedPhuTinhs4,\n      selectedPhuTinhs5,\n    ]),\n  };\n  // console.log(variables);\n  // functions\n  async function createKetQua() {\n    setCreateButtonStatus(\"Vui lòng chờ...\");\n    const query = `mutation(\n      $selectedCung: CungWhereUniqueInput\n      $selectedCungVi: CungViWhereUniqueInput\n      $selectedTinhs: [TinhWhereUniqueInput]\n      $selectedPhuTinhs: [PhuTinhWhereUniqueInput]\n  ) {\n      createKetQua(\n      data: {\n          cung: { connect: $selectedCung }\n          cungVi: { connect: $selectedCungVi}\n          chinhTinh: { connect: $selectedTinhs, disconnectAll: true }\n          phuTinh: { connect: $selectedPhuTinhs, disconnectAll: true }\n      }\n      ) {\n        id\n      }\n  }`;\n\n    const { data, errors } = await request({ body: { query, variables } });\n    console.log(data.createKetQua);\n    setCreateButtonStatus(\"Xem kết Quả\");\n    if (onCreate) onCreate({ data, errors });\n  }\n  return (\n    <Grid container spacing={1} justify=\"center\">\n      <Grid item xs={12} md={4}>\n        <AllCungs\n          allCungs={allCungs}\n          onChange={(value) => {\n            if (value) {\n              setLabel1(value.tieuDe1);\n              setLabel2(value.tieuDe2);\n              setLabel3(value.tieuDe3);\n              setLabel4(value.tieuDe4);\n              setLabel5(value.tieuDe5);\n              setSelectedCung({ id: value.id });\n            }\n          }}\n        />\n      </Grid>\n\n      <Grid item xs={12} md={4}>\n        <AllCungVis\n          allCungVis={allCungVis}\n          onSelect={(value) => {\n            if (value) setSelectedCungVi({ id: value.id });\n          }}\n        />\n      </Grid>\n      <Grid item xs={12} md={4}>\n        <AllTinhs\n          allTinhs={allTinhs}\n          onSelect={(values) => setSelectedTinhs(values)}\n        />\n      </Grid>\n      <Grid item xs={12} md={4}>\n        <AllPhuTinhs\n          allPhuTinhs={allPhuTinhs}\n          onSelect={(values) => setSelectedPhuTinhs(values)}\n        />\n      </Grid>\n      <Grid item xs={12} md={4}>\n        <AllPhuTinhs\n          label={label1}\n          allPhuTinhs={allPhuTinhs}\n          onSelect={(values) => setSelectedPhuTinhs1(values)}\n        />\n      </Grid>\n      <Grid item xs={12} md={4}>\n        <AllPhuTinhs\n          label={label2}\n          allPhuTinhs={allPhuTinhs}\n          onSelect={(values) => setSelectedPhuTinhs2(values)}\n        />\n      </Grid>\n      <Grid item xs={12} md={4}>\n        <AllPhuTinhs\n          label={label3}\n          allPhuTinhs={allPhuTinhs}\n          onSelect={(values) => setSelectedPhuTinhs3(values)}\n        />\n      </Grid>\n      <Grid item xs={12} md={4}>\n        <AllPhuTinhs\n          label={label4}\n          allPhuTinhs={allPhuTinhs}\n          onSelect={(values) => setSelectedPhuTinhs4(values)}\n        />\n      </Grid>\n      <Grid item xs={12} md={4}>\n        <AllPhuTinhs\n          label={label5}\n          allPhuTinhs={allPhuTinhs}\n          onSelect={(values) => setSelectedPhuTinhs5(values)}\n        />\n      </Grid>\n      <Grid item xs={12} md={6} lg={4}>\n        <Button\n          style={{\n            backgroundColor: \"#76552a\",\n            color: \"#dab857\",\n            marginTop: 21,\n            marginBottom: 21,\n          }}\n          fullWidth\n          onClick={() => createKetQua()}\n        >\n          {createButtonStatus}\n        </Button>\n      </Grid>\n    </Grid>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}