{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { signup } from \"../utils/auth\";\nimport { useState } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Container from \"@material-ui/core/Container\";\nimport Layout from \"../src/Layout\";\nimport LightBoard from \"../src/LightBoard\";\nimport request from \"../components/config/request\";\nimport { withAuthSync } from \"../utils/auth\";\nimport Link from \"../src/Link\";\nimport Logo from \"../src/logo\";\nimport { Typography } from \"@material-ui/core\";\n\nfunction Signup() {\n  let {\n    0: username,\n    1: setUserName\n  } = useState(false);\n  let {\n    0: password,\n    1: setPassword\n  } = useState(false);\n  let {\n    0: confirm,\n    1: setConfirm\n  } = useState(false);\n  let {\n    0: buttonStatus,\n    1: setButtonStatus\n  } = useState(\"Đăng ký\");\n  let {\n    0: alert,\n    1: setAlert\n  } = useState(false);\n\n  async function loginButtonClick() {\n    setButtonStatus(\"Vui lòng đợi...\");\n    if (username.length <= 5) setAlert(\"Tên đăng nhập phải nhiều hơn 5 ký tự.\");\n    if (password.length <= 7) setAlert(\"Mật khẩu phải ít nhất 8 kí tự.\");\n    if (password != confirm) setAlert(\"Nhập lại mật khẩu không đúng.\");\n\n    if (username && password && username.length > 5 && password.length > 7 && password == confirm) {\n      let response = await request({\n        body: {\n          query: `mutation ($username: String, $password: String) {\n            createUser(data: { email: $username, password: $password, isCustomer: true }) {\n            id\n            }\n        }`,\n          variables: {\n            username,\n            password\n          }\n        }\n      });\n      let {\n        data: {\n          createUser\n        }\n      } = response;\n\n      if (createUser) {\n        setButtonStatus(\"Đăng ký thành công!\");\n        signup();\n      } else {\n        setAlert(\"Tên đăng nhập có thể bị trùng. Thử lại với tên đăng nhập và mật khẩu khác.\");\n      }\n    } else {\n      setButtonStatus(\"Kiểm tra thông tin và thử lại.\");\n    }\n  }\n\n  return __jsx(Layout, null, __jsx(Container, {\n    maxWidth: \"sm\"\n  }, __jsx(LightBoard, null, __jsx(Grid, {\n    container: true,\n    spacing: 2,\n    justify: \"center\"\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(Logo, null)), __jsx(\"form\", {\n    noValidate: true,\n    autoComplete: \"off\"\n  }, __jsx(Grid, {\n    container: true,\n    justify: \"center\",\n    spacing: 1\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(TextField, {\n    required: true,\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"username\",\n    label: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\",\n    onChange: e => {\n      setUserName(e.target.value);\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(TextField, {\n    required: true,\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"password\",\n    label: \"M\\u1EADt kh\\u1EA9u\",\n    type: \"password\",\n    onChange: e => {\n      setPassword(e.target.value);\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(TextField, {\n    required: true,\n    fullWidth: true,\n    variant: \"outlined\",\n    id: \"confirm\",\n    label: \"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u\",\n    type: \"password\",\n    onChange: e => {\n      setConfirm(e.target.value);\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(Button, {\n    fullWidth: true // variant=\"outlined\"\n    ,\n    onClick: async () => await loginButtonClick()\n  }, buttonStatus)), alert ? __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(Typography, null, alert)) : null, __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(Link, {\n    href: \"/login\"\n  }, \"\\u0110\\u0103ng nh\\u1EADp\")))))), __jsx(Grid, {\n    style: {\n      marginTop: 20\n    }\n  }, __jsx(LightBoard, null, __jsx(Grid, {\n    container: true,\n    display: \"flex\",\n    alignItems: \"center\",\n    direction: \"column\"\n  }, __jsx(Grid, null, __jsx(\"label\", null, \"\\u0110\\xE2y l\\xE0 trang web d\\u1ECBch v\\u1EE5\")), __jsx(Grid, null, __jsx(\"label\", null, \"Xin th\\xF4ng c\\u1EA3m v\\xEC s\\u1EF1 b\\u1EA5t ti\\u1EC7n n\\xE0y!\")), __jsx(Grid, null, __jsx(\"h3\", null, \"B\\u1EA2NG GI\\xC1:\")), __jsx(Grid, null, __jsx(\"ul\", null, __jsx(\"li\", null, \"100k/36 l\\u01B0\\u1EE3t check~3 l\\xE1 s\\u1ED1 12 cung\"), __jsx(\"li\", null, \"300k/l\\u01B0\\u1EE3t lu\\u1EADn t\\u1EED vi/ xem ch\\u1EC9 tay + 36 l\\u01B0\\u1EE3t check\\\"\"))))))));\n}\n\nexport default Signup;","map":null,"metadata":{},"sourceType":"module"}