{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { withAuthSync } from \"../utils/auth\";\nimport cookie from \"js-cookie\";\nimport { useState } from \"react\";\nimport Layout from \"../src/Layout\";\nimport AllKetQuas from \"../components/ketQuas/allKetQuas\";\nimport CreateKetQua from \"../components/ketQuas/createKetQua\";\nimport request from \"../components/config/request\";\nimport Logo from \"../src/logo\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Typography } from \"@material-ui/core\";\nimport LightBoard from \"../src/LightBoard\";\nimport ReactMarkdown from \"react-markdown\";\nimport Logout from \"../components/user/logout\";\n\nvar Index = function Index(props) {\n  // variables\n  function getAllCungs() {\n    var _ref, allKetQuas;\n\n    return _regeneratorRuntime.async(function getAllCungs$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(request({\n              body: {\n                query: \"query {\\n          allKetQuas(orderBy: \\\"time_DESC\\\") {\\n            id\\n            cung {\\n              name\\n            }\\n            ketQua {\\n              id\\n              cung {\\n                name\\n              }\\n              chinhTinh {\\n                id\\n                name\\n              }\\n              phuTinh {\\n                id\\n                name\\n              }\\n              giai\\n            }\\n          }\\n        }\\n        \"\n              }\n            }));\n\n          case 2:\n            _ref = _context.sent;\n            allKetQuas = _ref.data.allKetQuas;\n            return _context.abrupt(\"return\", allKetQuas);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  }\n\n  var _useState = useState(props.allKetQuas),\n      allKetQuas = _useState[0],\n      setAllKetQuas = _useState[1];\n\n  return __jsx(Layout, null, __jsx(Grid, {\n    container: true,\n    spacing: 1\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 5\n  }, __jsx(Logo, null)), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 7\n  }, __jsx(LightBoard, null, __jsx(\"img\", {\n    style: {\n      width: \"100%\"\n    },\n    src: \"/img/tuvibanner.jpg\"\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(LightBoard, null, __jsx(Typography, null, \"Xin ch\\xE0o \", props.email), __jsx(Logout, null), __jsx(ReactMarkdown, {\n    source: \"Gi\\u1EDBi Thi\\u1EC7u:\\n\\nCh\\xE0o c\\xE1c b\\u1EA1n y\\xEAu th\\xEDch T\\u1EED Vi v\\xE0 c\\xE1c m\\u1EA3ng kh\\xE1c trong Huy\\u1EC1n H\\u1ECDc\\n\\nM\\xECnh mu\\u1ED1n x\\xE2y d\\u1EF1ng m\\u1ED9t m\\xF4i tr\\u01B0\\u1EDDng ch\\xEDnh x\\xE1c h\\u01A1n trong vi\\u1EC7c lu\\u1EADn gi\\u1EA3i t\\u01B0\\u01A1ng lai c\\u1EE7a m\\u1ED9t con ng\\u01B0\\u1EDDi, v\\xE0 quan tr\\u1ECDng nh\\u1EA5t l\\xE0 c\\xE1ch C\\u1EA2I V\\u1EACN \\u2013 GI\\u1EA2I H\\u1EA0N ho\\u1EB7c l\\xE0m gi\\u1EA3m \\u0111i m\\u1ED9t ph\\u1EA7n s\\u1EF1 r\\u1EE7i ro trong cu\\u1ED9c s\\u1ED1ng. V\\xEC th\\u1EBF, m\\xECnh \\u0111\\xE3 t\\u1EA1o ra h\\u1EC7 th\\u1ED1ng n\\xE0y, g\\u1ED3m c\\xF3:\\n\\n- H\\u1EC7 th\\u1ED1ng truy xu\\u1EA5t \\xFD ngh\\u0129a t\\u1EEBng Cung/Ch\\xEDnh tinh/Ph\\u1EE5 tinh \\u1EA3nh h\\u01B0\\u1EDFng trong l\\xE1 s\\u1ED1 T\\u1EED Vi\\n\\n- M\\u1ED9t s\\u1ED1 th\\u1EA7y lu\\u1EADn gi\\u1EA3i l\\xE1 s\\u1ED1 T\\u1EED Vi\\n\\n- M\\u1ED9t s\\u1ED1 th\\u1EA7y coi ch\\u1EC9 tay- t\\u01B0\\u1EDBng s\\u1ED1\\n\\n- M\\u1ED9t s\\u1ED1 th\\u1EA7y (n\\u1EBFu c\\xF3 th\\u1EC3) \\u1EDF c\\xE1c m\\u1EA3ng kh\\xE1c trong Huy\\u1EC1n H\\u1ECDc-B\\xF3i To\\xE1n\\u2026\\n\\nN\\u1ED9i dung bao qu\\xE1t v\\u1EC1 lu\\u1EADn T\\u1EED Vi:\\n\\nI. Lu\\u1EADn \\u0111o\\xE1n t\\u01B0\\u1EDBng m\\u1EA1o, t\\xEDnh c\\xE1ch qua l\\xE1 s\\u1ED1:\\n\\n- Cung m\\u1EC7nh- cung xung chi\\u1EBFu, cung tam h\\u1EE3p, nh\\u1EEFng cung c\\xF3 th\\u1EC3 \\u1EA3nh h\\u01B0\\u1EDFng\\n\\nII. Lu\\u1EADn \\u0111o\\xE1n anh em, gia \\u0111\\xECnh, b\\u1EA1n b\\xE8\\n\\n- Cung huynh \\u0111\\u1EC7, ph\\u1EE5 m\\u1EABu, n\\xF4 b\\u1ED9c, phu th\\xEA, t\\u1EED t\\u1EE9c \\u2013 cung xung chi\\u1EBFu tam h\\u1EE3p\\n\\nIII. Lu\\u1EADn \\u0111o\\xE1n v\\u1EADn h\\u1EA1n qu\\xE1 kh\\u1EE9 g\\u1EA7n nh\\u1EA5t c\\xF3 th\\u1EC3 c\\u1EE7a \\u0111\\u01B0\\u01A1ng s\\u1ED1 ho\\u1EB7c ng\\u01B0\\u1EDDi trong gia \\u0111\\xECnh\\n\\nIV. Lu\\u1EADn \\u0111o\\xE1n v\\u1EC1 ngh\\u1EC1 nghi\\u1EC7p ph\\xF9 h\\u1EE3p, v\\u1EC1 c\\xE1c m\\u1ED1i quan h\\u1EC7 xung quanh\\n\\n- Lu\\u1EADn \\u0111o\\xE1n c\\u1EE5 th\\u1EC3 v\\u1EADn h\\u1EA1n n\\u0103m nay v\\xE0 \\u0111\\u1EA1i v\\u1EADn chung : Coi \\u0111\\u1EA1i v\\u1EADn 10 n\\u0103m, ti\\u1EC3u nguy\\u1EC7t v\\u1EADn h\\u1EA1n\\n\\nV. H\\xF3a gi\\u1EA3i h\\u1EA1n trong t\\u01B0\\u01A1ng lai, l\\xE0 n\\u0103m nay ho\\u1EB7c nh\\u1EEFng n\\u0103m t\\u01B0\\u01A1ng lai g\\u1EA7n\\n\\nN\\u1ED9i dung bao qu\\xE1t v\\u1EC1 xem Ch\\u1EC9 Tay-T\\u01B0\\u1EDBng s\\u1ED1:\\n\\n- Xem c\\u01A1 b\\u1EA3n l\\xE0 hi\\u1EC7n t\\u1EA1i v\\xE0 t\\u01B0\\u01A1ng lai g\\u1EA7n (bao qu\\xE1t h\\u1EA1n h\\u1EF7 trong n\\u0103m)\\n\\n- H\\u01B0\\u1EDBng gi\\u1EA3i v\\u1EC1 c\\u1EA3i v\\u1EADn, b\\u1EBB t\\u01B0\\u1EDBng, gi\\u1EA3m h\\u1EA1n qua vi\\u1EC7c thay \\u0111\\u1ED5i m\\u1ED9t s\\u1ED1 th\\u1EE9 trong cu\\u1ED9c s\\u1ED1ng v\\xE0 t\\u01B0\\u1EDBng m\\u1EA1o\\n\\nM\\xECnh lu\\xF4n h\\u01B0\\u1EDBng t\\u1EDBi vi\\u1EC7c c\\u1EA3i v\\u1EADn, gi\\u1EA3m h\\u1EA1n cho m\\u1ED7i c\\xE1 nh\\xE2n, nh\\u01B0ng quan tr\\u1ECDng nh\\u1EA5t, ch\\xFAng ta v\\u1EABn n\\xEAn s\\u1ED1ng Thi\\u1EC7n, v\\xE0 ngo\\xE0i s\\u1ED1ng Thi\\u1EC7n th\\xEC \\u201CH\\xE3y cho \\u0111i, r\\u1ED3i s\\u1EBD nh\\u1EADn l\\u1EA1i\\u201D \\u2013 \\u201C\\u0110\\u1EE9c n\\u0103ng, ch\\u1EAFc ch\\u1EAFn s\\u1EBD th\\u1EAFng S\\u1ED1\\u201D\\n\\nCh\\xFAc c\\xE1c b\\u1EA1n lu\\xF4n h\\u1EA1nh ph\\xFAc. Th\\xE2n \\xE1i!\"\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(LightBoard, null, __jsx(CreateKetQua, {\n    token: props.token,\n    allCungs: props.allCungs,\n    allCungVis: props.allCungVis,\n    allTinhs: props.allTinhs,\n    allPhuTinhs: props.allPhuTinhs,\n    onCreate: function _callee(_ref2) {\n      var data, errors, response;\n      return _regeneratorRuntime.async(function _callee$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              data = _ref2.data, errors = _ref2.errors;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(getAllCungs());\n\n            case 3:\n              response = _context2.sent;\n              setAllKetQuas(response);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    }\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(LightBoard, null, __jsx(AllKetQuas, {\n    allKetQuas: allKetQuas\n  })))));\n};\n\nIndex.getInitialProps = function _callee2(_ref3) {\n  var res, client, query, data;\n  return _regeneratorRuntime.async(function _callee2$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          res = _ref3.res, client = _ref3.client;\n          //get variables from server\n          query = \"query {\\n    allCungs {\\n      id\\n      name\\n      tieuDe1\\n      tieuDe2\\n      tieuDe3\\n      tieuDe4\\n      tieuDe5\\n    }\\n    allCungVis {\\n      id\\n      name\\n    }\\n    allTinhs {\\n      id\\n      name\\n    }\\n    allPhuTinhs {\\n      id\\n      name\\n    }\\n    allKetQuas (orderBy: \\\"time_DESC\\\") {\\n      id\\n      cung {\\n        name\\n      }\\n      ketQua {\\n        id\\n        cung {\\n          name\\n        }\\n        chinhTinh {\\n          id\\n          name\\n        }\\n        phuTinh {\\n          id\\n          name\\n        }\\n        giai\\n      }\\n    }\\n  }\";\n          _context3.prev = 2;\n          _context3.next = 5;\n          return _regeneratorRuntime.awrap(client.request(query));\n\n        case 5:\n          data = _context3.sent;\n          return _context3.abrupt(\"return\", data);\n\n        case 9:\n          _context3.prev = 9;\n          _context3.t0 = _context3[\"catch\"](2);\n          cookie.remove(\"token\");\n\n          if (res) {\n            res.writeHead(302, {\n              Location: \"/login\"\n            });\n            res.end();\n          }\n\n        case 13:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, [[2, 9]]);\n};\n\nexport default withAuthSync(Index);","map":null,"metadata":{},"sourceType":"module"}